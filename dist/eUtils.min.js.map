{"version":3,"file":"eutils.min.js","sources":["../src/unique.js","../src/index.js","../src/dateFormat.js","../src/setUrlParam.js","../src/getUrlParam.js","../src/replaceAll.js","../src/replace.js","../src/trim.js","../src/toUpper.js","../src/toLower.js","../src/generateUUID.js","../src/union.js","../src/intersection.js","../src/minus.js"],"sourcesContent":["/**\n * array to unique,\n *\n * @since 1.1.0;\n * @category array;\n * @author fl2294;\n * @param arr {array} the first array incoming;\n * @return {array};\n * @create_date 2018/07/19;\n * @modify_date 2018/07/19;\n * @example\n *\n * unique([1, 3, 5, 6, 8, 8, 6, 3, [1,2], [1,2], {item: 1, 2: 3}, {item: 1, 2: 3}])\n * // => [1, 3, 5, 6, 8, [1,2], {item: 1, 2: 3}]\n */\n\nfunction unique(arr, iterator) {\n  let _hash = (obj) => {\n    let power = 1;\n    let res = 0;\n    const string = JSON.stringify(obj, null, 2);\n    for (let i = 0, l = string.length; i < l; i++) {\n      switch (string[i]) {\n        case '{':\n          power *= 2;\n          break;\n        case '}':\n          power /= 2;\n          break;\n        case ' ':\n        case '\\n':\n        case '\\r':\n        case '\\t':\n          break;\n        default:\n          res += string[i].charCodeAt(0) * power;\n      }\n    }\n    return res;\n  };\n\n  const _arr = [...new Set(arr)];\n  let __arr = [];\n  _arr.forEach(item => {\n    if(__arr.some(__item => _hash(__item) === _hash(item))) return;\n    __arr.push(item);\n  });\n  _hash = null;\n  if(iterator) {\n    __arr = __arr.filter(iterator);\n  }\n  return __arr;\n}\n\nexport default unique;","import dateFormat from './dateFormat';\nimport setUrlParam from './setUrlParam';\nimport getUrlParam from './getUrlParam';\nimport replace from './replace';\nimport replaceAll from './replaceAll';\nimport trim from './trim';\nimport toUpper from './toUpper';\nimport toLower from './toLower';\nimport generateUUID from './generateUUID';\nimport union from './union';\nimport intersection from './intersection';\nimport minus from './minus';\nimport unique from './unique';\n\nexport default {\n  dateFormat,\n  setUrlParam,\n  getUrlParam,\n  replaceAll,\n  replace,\n  trim,\n  toUpper,\n  toLower,\n  generateUUID,\n  union,\n  intersection,\n  minus,\n  unique,\n};\n","/**\n * Date format and output the formatted date;\n *\n * @since 1.0.0\n * @category date;\n * @author yhm1694;\n * @param { number | Date } date, the origin date which you want to format;\n * @param { string } format, the format that the date you want to output;\n * @return { string } formatDate, return the formatted date;\n * @create_date 2018/07/15;\n * @modify_date 2018/07/15;\n *\n * @example\n *\n * dateFormat(1531643785284, 'yyyy-MM-dd');\n *\n * // => '2018-07-15'\n */\n\nconst dateFormat = (date, format) => {\n  if (!format) {\n    return date;\n  }\n\n  let formattedDate = format;\n  date = new Date(date);\n\n  const regObj = {\n    'M+': date.getMonth() + 1,\n    'd+': date.getDate(),\n    'h+': date.getHours(),\n    'm+': date.getMinutes(),\n    's+': date.getSeconds(),\n    'q+': Math.floor((date.getMonth() + 3) / 3),\n    'S': date.getMilliseconds(),\n  };\n  const keys = Object.keys(regObj);\n\n  if (/(y+)/.test(format)) {\n    formattedDate = format.replace(\n      RegExp.$1,\n      (`${date.getFullYear()}`).substr(4 - RegExp.$1.length));\n  }\n\n  keys.forEach((item) => {\n    if ((new RegExp(`(${item})`)).test(format)) {\n      formattedDate = formattedDate.replace(\n        RegExp.$1,\n        (RegExp.$1.length === 1) ?\n          (regObj[item]) : ((`00${regObj[item]}`).substr((`${regObj[item]}`).length)));\n    }\n  });\n\n  return formattedDate;\n};\n\nexport default dateFormat;\n","/**\n * set url param by object\n *\n * @since 1.0.0;\n * @category Object;\n * @author jiaguishan;\n * @param paramsObject {Object} param object;\n * @return no return\n * @create_date 2018/07/09;\n * @modify_date 2018/07/18;\n * @example\n *\n * current location href => http://web.ewt360.com\n * setUrlParam({\n *     id: 1,\n *     token: '807341-111-111aaa7a7a'\n * })\n * // => 'http://web.ewt360.com?id=1&token=807341-111-111aaa7a7a'\n *\n * current location href => http://web.ewt360.com?id=2\n * setUrlParam({\n *     id: 1,\n *     token: '807341-111-111aaa7a7a'\n * }, 'http://www.ewt360.com')\n * // => 'http://www.ewt360.com?id=1&token=807341-111-111aaa7a7a'\n */\nfunction setUrlParam(targetParams, originUrl = window.location.href) {\n  let resultUrl = originUrl;\n  Object\n    .entries(targetParams)\n    .forEach(([key, value]) => {\n      const replaceReg = new RegExp(`(^|)${key}=([^&]*)(|$)`);\n      const replaceText = `${key}=${value}`;\n      if (resultUrl.match(replaceReg)) {\n        const tmpReg = new RegExp(`(${key}=)([^&]*)`, 'gi');\n        resultUrl = resultUrl.replace(tmpReg, replaceText);\n      } else {\n        const joinFlag = resultUrl.match('[?]')\n          ? '&'\n          : '?';\n        resultUrl = `${resultUrl}${joinFlag}${replaceText}`;\n      }\n    });\n  return resultUrl;\n}\n\nexport default setUrlParam;\n","/**\n * get url param by name\n *\n * @since 1.0.0;\n * @category string;\n * @author jiaguishan;\n * @param name {string} param key;\n * @return {string};\n * @create_date 2018/07/09;\n * @modify_date 2018/07/18;\n * @example\n *\n * getUrlParam('token')\n * // => '807351-999-1asdni7asdn61621e8'\n */\nfunction getUrlParam(key, originUrl) {\n  const reg = new RegExp('(^|&)'.concat(key).concat('=([^&]*)(&|$)'), 'i');\n  originUrl = originUrl ? originUrl.toString() : window.location.href;\n  const index = originUrl.indexOf('?');\n  const result = originUrl\n    .substr(index + 1)\n    .match(reg);\n  if (result != null) {\n    return unescape(result[2]);\n  }\n  return '';\n}\n\nexport default getUrlParam;\n","/**\n * Replace global characters,\n * also 0x00000-0xfffff characters replace.\n *\n * @since 1.0.0;\n * @category string;\n * @author fl2294;\n * @param str {string} the first string incoming;\n * @param sourcement {string} the second (string|regexp) incoming;\n * @param replacement {string} the second string incoming;\n * @return {string};\n * @create_date 2018/07/06;\n * @modify_date 2018/07/06;\n * @example\n *\n * replaceAll('𠮷abcdef𠮷Acdef', /𠮷/, 'k')\n * // => 'kabcdefkAcdef'\n */\n\nfunction replaceAll(...args) {\n  if (args.length < 3) return args[0];\n  const str = args[0];\n  const sourcement = args[1];\n  const replacement = args[2];\n  let raRegExp;\n  const strType = Object.prototype.toString.call(sourcement);\n  if(strType === '[object RegExp]') {\n    let _sourcement = sourcement;\n    if(_sourcement.flags.indexOf('g') <= -1) {\n      _sourcement = RegExp(_sourcement.source, _sourcement.flags + 'g');\n    }\n    raRegExp = _sourcement;\n  }\n  if(strType === '[object String]') {\n    raRegExp = new RegExp(sourcement, 'g');\n  }\n  return str.replace(raRegExp, replacement);\n}\n\nexport default replaceAll;\n","/**\n * Replaces matches for `pattern` in `string` with `replacement`,\n * default is not global repalce,\n * also 0x00000-0xfffff characters replace.\n *\n * @since 1.0.0;\n * @category string;\n * @author fl;\n * @param str {string} the first string incoming;\n * @param pattern {string|regexp} the second (string|regexp) incoming;\n * @param replacement {string} the third string incoming;\n * @return {string};\n * @create_date 2018/07/06;\n * @modify_date 2018/07/06;\n * @example\n *\n * replace('hello world', /o/, 'hi')\n * // => 'hellhi world'\n */\n\nfunction replace(...args) {\n  const str = `${args[0]}`;\n  return args.length < 3 ? str : str.replace(args[1], args[2]);\n}\n\nexport default replace;\n","/**\n * Remove specified characters before and after,\n * also support 0x00000-0xfffff characters remove.\n *\n * @since 1.0.0;\n * @category string;\n * @author fl2294;\n * @param str {string} the first string incoming;\n * @param chars {string} the second string incoming;\n * @return {string};\n * @create_date 2018/07/06;\n * @modify_date 2018/07/06;\n * @example\n *\n * trim('#sadcdba#s', '#s') trim('  dsa  ') trim('𠮷abbb𠮷a', '𠮷a')\n * // => 'adcdba'  'dsa'  'bbb'\n */\n\nfunction trim(str, chars) {\n  if (str && chars === undefined) {\n    return str.trim();\n  }\n  if (!str || !chars) {\n    return str;\n  }\n  const r = `(^${chars})|(${chars}$)`;\n  str = str.replace(new RegExp(r, 'gu'), '');\n  return str;\n}\n\nexport default trim;\n","/**\n * All down to uppercase\n *\n * @since 1.0.0;\n * @category string;\n * @author fl2294;\n * @param str {string} the first string incoming;\n * @return {string};\n * @create_date 2018/07/06;\n * @modify_date 2018/07/06;\n * @example\n *\n * toUpper('aaa')\n * // => 'AAA'\n */\n\nfunction toUpper(str) {\n  return str.toUpperCase();\n}\n\nexport default toUpper;\n","/**\n * All down to lowercase.\n *\n * @since 1.0.0;\n * @category string;\n * @author fl2294;\n * @param str {string} the first string incoming;\n * @return {string};\n * @create_date 2018/07/06;\n * @modify_date 2018/07/06;\n * @example\n *\n * toLower(’AAA')\n * // => 'aaa'\n */\n\nfunction toLower(str) {\n  return str.toLowerCase();\n}\n\nexport default toLower;\n","/**\n * Generate UUID, maybe used to render react list;\n *\n * @since 1.1.0\n * @category string;\n * @author yhm1694;\n * @return { string } uuid;\n * @create_date 2018/08/22;\n * @modify_date 2018/08/22;\n *\n * @example\n *\n * generateUUID();\n *\n * // => 'af22-3fa8-4028-8dea-30a2'\n */\n\nconst generateUUID = () => {\n  const uuid =  'xxxx-xxxx-xxxx-xxxx-xxxx'.replace(/[x]/g, function() {\n    const randomNum = Math.random() * 16 | 0;\n    const newChar = randomNum.toString(16);\n\n    return newChar;\n  });\n\n  return uuid;\n};\n\nexport default generateUUID;\n ","/**\n * two of array to union,\n *\n * @since 1.1.0;\n * @category array;\n * @author fl2294;\n * @param firstArr {array} the first array incoming;\n * @param secondArr {array} the second array incoming;\n * @return {array};\n * @create_date 2018/07/19;\n * @modify_date 2018/07/19;\n * @example\n *\n * union([1, 3, 5],  [6, 8, 8, 6, 3])\n * // => [1, 3, 5, 6, 8]\n */\n\nimport unique from './unique';\n\n//并集\nfunction union(firstArr, secondArr) {\n  return unique(firstArr.concat(secondArr));\n}\n\nexport default union;","/**\n * two of array to cross,\n *\n * @since 1.1.0;\n * @category array;\n * @author fl2294;\n * @param firstArr {array} the first array incoming;\n * @param secondArr {array} the second array incoming;\n * @return {array};\n * @create_date 2018/07/19;\n * @modify_date 2018/07/19;\n * @example\n *\n * intersection([1, 3, 5, 6], [8, 8, 6, 3])\n * // => [3, 6]\n */\n\nimport unique from './unique';\n\n//交集\nfunction intersection(firstArr, secondArr) {\n  return unique(firstArr).filter(o => {\n    return secondArr.includes(o) ? o : null;\n  });\n}\n\nexport default intersection;","/**\n * two of array to minus,\n *\n * @since 1.1.0;\n * @category array;\n * @author fl2294;\n * @param firstArr {array} the first array incoming;\n * @param secondArr {array} the second array incoming;\n * @return {array};\n * @create_date 2018/07/19;\n * @modify_date 2018/07/19;\n * @example\n *\n * minus([1, 3, 5, 6], [8, 8, 6, 3, 2])\n * // => [1, 5]\n */\n\nimport unique from './unique';\n\n//差集\nfunction minus(firstArr, secondArr){\n  return unique(firstArr).filter(function(o){\n    return secondArr.includes(o) ? null : o;\n  });\n}\n\nexport default minus;"],"names":["unique","arr","iterator","let","_hash","obj","power","res","string","JSON","stringify","i","l","length","charCodeAt","_arr","Set","__arr","forEach","item","some","__item","push","filter","date","format","formattedDate","regObj","M+","Date","getMonth","d+","getDate","h+","getHours","m+","getMinutes","s+","getSeconds","q+","Math","floor","S","getMilliseconds","keys","Object","test","replace","RegExp","$1","getFullYear","substr","targetParams","originUrl","window","location","href","resultUrl","entries","ref","replaceReg","key","replaceText","value","match","const","tmpReg","joinFlag","reg","concat","index","toString","indexOf","result","unescape","args","raRegExp","str","sourcement","replacement","strType","prototype","call","_sourcement","flags","source","chars","undefined","trim","r","toUpperCase","toLowerCase","random","firstArr","secondArr","o","includes"],"mappings":"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"}